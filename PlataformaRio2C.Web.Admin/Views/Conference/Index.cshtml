@model IEnumerable<PlataformaRio2C.Application.ViewModels.ConferenceItemListAppViewModel>

@{
    ViewBag.Title = "Palestras";
}

<div ng-controller="ConferenceList as vm">
    <section class="panel panel-lg">
        <header class="panel-heading clearfix">
            <h2 class="pull-left">@ViewBag.Title</h2>

            <a href="@Url.Action("Create")" class="btn btn-sm btn-success pull-right">
                + Cadastrar nova @Labels.Conferences
            </a>
        </header>
        <div class="wrap-table table-responsive">
            <div class="loading-list" ng-if="vm.loadingListConference">
                <p>Carregando palestra...</p>
            </div>

            <div class="count-list-results" ng-if="!vm.loadingListConference">
                @Html.Raw(String.Format(@Labels.ReturnedItems, "{{vm.listConference.length}}"))
            </div>
           

            <table ng-if="!vm.loadingListConference && vm.listConference.length > 0" class="table table-striped table-advance table-hover">
                <thead>
                    <tr>
                        <th ng-click="vm.getListConference('Date')" class="rio2c-ordained">
                            @Html.DisplayNameFor(model => model.Date)
                            <span class="" ng-class="{'icon-sort-up' : (vm.orderBy === 'Date' && vm.orderByDesc === false), 'icon-sort-down' : (vm.orderBy == 'Date' && vm.orderByDesc === true)}"></span>
                        </th>

                        <th ng-click="vm.getListConference('Local')" class="rio2c-ordained">
                            @Html.DisplayNameFor(model => model.Room)
                            <span class="" ng-class="{'icon-sort-up' : (vm.orderBy === 'Local' && vm.orderByDesc === false), 'icon-sort-down' : (vm.orderBy == 'Local' && vm.orderByDesc === true)}"></span>
                        </th>

                        <th ng-click="vm.getListConference('Title')" class=" rio2c-ordained">
                            @Html.DisplayNameFor(model => model.Title)
                            <span class="" ng-class="{'icon-sort-up' : (vm.orderBy === 'Title' && vm.orderByDesc === false), 'icon-sort-down' : (vm.orderBy == 'Title' && vm.orderByDesc === true)}"></span>
                        </th>
                        <th ng-click="vm.getListConference('LecturersName')" class="rio2c-ordained">
                            @Html.DisplayNameFor(model => model.LecturersName)
                            <span class="" ng-class="{'icon-sort-up' : (vm.orderBy === 'LecturersName' && vm.orderByDesc === false), 'icon-sort-down' : (vm.orderBy == 'LecturersName' && vm.orderByDesc === true)}"></span>
                        </th>





                        <th class="editExcludeTd"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="conference in vm.listConference track by $index">
                        <td>{{conference.date | date: 'dd/MM/yyyy'}}</td>
                        <td>{{conference.room}}</td>
                        <td>{{conference.title}}</td>
                        <td>{{conference.lecturersName}}</td>
                        <td>
                            <a href="@Url.Action("Edit")?uid={{conference.uid}}"> Editar</a> |
                            <span>
                                <a data-toggle="modal" href="#modalDelete" data-urltarget="@Url.Action("Delete")?uid={{conference.uid}}"> Excluir </a>
                            </span>

                        </td>
                    </tr>
                </tbody>
            </table>

            <p ng-if="!vm.loadingListConference && vm.listConference.length <= 0">Nenhuma palestra encontrada.</p>
        </div>
    </section>
</div>



<!-- Modal -->
<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modalDelete" class="modal fade" style="display: none;">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title text-center">Atenção!</h4>
            </div>

            <div class="modal-body">
                <p>Tem certeza que deseja excluir?</p>
            </div>

            <div class="modal-footer ">
                <button data-dismiss="modal" class="btn btn-default" type="button">Cancelar</button>
                <a href="#" id="btn-trigger-delete" class="btn btn-success button-confirm">Confirmar</a>
            </div>
        </div>
    </div>
</div>
<!-- modal -->
