@model IEnumerable<RoomAppViewModel>


@{
    ViewBag.Title = "Salas";
}



<div ng-controller="RoomList as vm">
    <section class="panel panel-lg">
        <header class="panel-heading clearfix">
            <h2 class="pull-left">@ViewBag.Title</h2>
            <a href="@Url.Action("Create")" class="btn btn-sm btn-success pull-right">
                + Cadastrar nova sala
            </a>
        </header>

        <div class="wrap-table table-responsive">
            <div class="loading-list" ng-if="vm.loadingListRoom">
                <p>Carregando salas...</p>
            </div>

            <div class="count-list-results" ng-if="!vm.loadingListRoom">
                @Html.Raw(String.Format(@Labels.ReturnedItems, "{{vm.listRoom.length}}"))
            </div>

            <table ng-if="!vm.loadingListRoom && vm.listRoom.length > 0" class="table table-striped table-advance table-hover">
                <thead>
                    <tr>
                        <th ng-click="vm.getListRoom('Name')">
                            @Html.DisplayNameFor(model => model.Name)
                            <span class="" ng-class="{'icon-sort-up' : (vm.orderBy === 'Name' && vm.orderByDesc === false), 'icon-sort-down' : (vm.orderBy == 'Name' && vm.orderByDesc === true)}"></span>
                        </th>

                        <th ng-click="vm.getListRoom('CreationDate')" class="rio2c-ordained">
                            @Html.DisplayNameFor(model => model.CreationDate)
                            <span class="" ng-class="{'icon-sort-up' : (vm.orderBy === 'CreationDate' && vm.orderByDesc === false), 'icon-sort-down' : (vm.orderBy == 'CreationDate' && vm.orderByDesc === true)}"></span>
                        </th>

                        <th class="editExcludeTd"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="room in vm.listRoom track by $index">
                        <td>
                            {{room.name}}
                        </td>

                        <td>
                            {{room.creationDate | date: 'dd/MM/yyyy HH:mm:ss'}}
                        </td>


                        <td>
                            <a href="@Url.Action("Edit")?uid={{room.uid}}"> Editar</a> |
                            <a data-toggle="modal" href="#modalDelete" data-urltarget="@Url.Action("Delete")?uid={{room.uid}}"> Excluir </a>

                        </td>
                    </tr>

                </tbody>
            </table>

            <p ng-if="!vm.loadingListRoom && vm.listRoom.length <= 0">Nenhuma sala encontrada.</p>
        </div>
    </section>
</div>



<!-- Modal -->
<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="modalDelete" class="modal fade" style="display: none;">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title text-center">Atenção!</h4>
            </div>

            <div class="modal-body">
                <p>Tem certeza que deseja excluir?</p>
            </div>

            <div class="modal-footer ">
                <button data-dismiss="modal" class="btn btn-default" type="button">Cancelar</button>
                <a href="#" id="btn-trigger-delete" class="btn btn-success button-confirm">Confirmar</a>
            </div>
        </div>
    </div>
</div>
<!-- modal -->