@using PlataformaRio2C.Domain.Constants
@using PlataformaRio2C.Domain.Dtos
@{
    ViewBag.Title = Labels.Dashboard;
    var adminAccessControlDto = ViewBag.AdminAccessControlDto as AdminAccessControlDto;
    var isAdminFull = adminAccessControlDto?.IsAdmin() == true;
    var isAdminAudiovisual = adminAccessControlDto?.IsAdminPartial() == true && adminAccessControlDto?.HasCollaboratorType(CollaboratorType.AdminAudiovisual) == true;
}
@if (isAdminFull || isAdminAudiovisual)
{
    <div class="row">
        <div class="col-sm-4">
            <!--begin:: Holdings Edition Count-->
            <div id="HoldingsEditionCountWidget" class="kt-portlet kt-portlet--fit kt-portlet--head-noborder" style="min-height: 230px;"></div>
            <!--end:: Holdings Edition Count-->
        </div>
        <div class="col-sm-4">
            <!--begin:: Players Edition Count-->
            <div id="PlayersEditionCountWidget" class="kt-portlet kt-portlet--fit kt-portlet--head-noborder" style="min-height: 230px;"></div>
            <!--end:: Players Edition Count-->
        </div>
        <div class="col-sm-4">
            <!--begin:: Players Executives Edition Count-->
            <div id="PlayersExecutivesEditionCountWidget" class="kt-portlet kt-portlet--fit kt-portlet--head-noborder" style="min-height: 230px;"></div>
            <!--end:: Players Executives Edition Count-->
        </div>
    </div>
}
@section Styles {
}
@section Scripts {
    @Scripts.Render("~/bundles/js/chart.js")
    @Scripts.Render("~/bundles/js/holdings.editioncount.js")
    @Scripts.Render("~/bundles/js/organizations.editioncount.js")
    @Scripts.Render("~/bundles/js/collaborators.editioncount.js")
    <script>
        jQuery(document).ready(function () {
            @if (isAdminFull || isAdminAudiovisual)
            {
                <text>
                    HoldingsEditionCountWidget.init();
                    OrganizationsEditionCountWidget.init();
                    CollaboratorsEditionCountWidget.init();
                </text>
            }
        });
    </script>
}