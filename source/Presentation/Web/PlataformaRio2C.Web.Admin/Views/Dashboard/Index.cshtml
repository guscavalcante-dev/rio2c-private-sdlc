@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "Bem-vindo a Administração da Plataforma RIO2C";
}


<div class="col-lg-12" ng-controller="DashboardIndex as vm">

    <div class="panel-body dashboard">

        <section class="rio2c-counters">
            <div class="wrap-counter">
                <div class="counter-box wrapper-content-loading" ng-if="vm.loadingNumbers && !vm.countTotalHoldings">
                    <p>Carregando...</p>
                </div>
                <div class="counter-box wrapper-content-loading" ng-if="vm.updatingNumbers">
                    <p>Atualizando em {{vm.time}}...</p>
                </div>
                <div class="counter-box wrapper-content-error" ng-if="!vm.loadingNumbers && !vm.countTotalHoldings">
                    <p>Erro ao carregar número de Holdings</p>
                </div>
                <div class="counter-box" ng-if="!vm.loadingNumbers && vm.countTotalHoldings">
                    <div class="symbol">
                        <i class="icon-sitemap"></i>
                    </div>
                    <div class="value">
                        <h2 class="count" count-to="{{vm.countTotalHoldings}}" value="{{vm.countTotalHoldingsFrom}}" duration="2"></h2>
                        <p>Holdings</p>
                    </div>
                </div>
            </div>

            <div class="wrap-counter">
                <div class="counter-box wrapper-content-loading" ng-if="vm.loadingNumbers && !vm.countTotalPlayers">
                    <p>Carregando...</p>

                </div>
                <div class="counter-box wrapper-content-loading" ng-if="vm.updatingNumbers">
                    <p>Atualizando em {{vm.time}}...</p>
                </div>
                <div class="counter-box wrapper-content-error" ng-if="!vm.loadingNumbers && !vm.countTotalPlayers">
                    <p>Erro ao carregar número de Players</p>
                </div>
                <div class="counter-box" ng-if="!vm.loadingNumbers && vm.countTotalPlayers">
                    <div class="symbol">
                        <i class="icon-desktop"></i>
                    </div>
                    <div class="value">
                        <h2 class="count" count-to="{{vm.countTotalPlayers}}" value="{{vm.countTotalPlayersFrom}}" duration="2"></h2>
                        <p>Players</p>
                    </div>
                </div>
            </div>

            <div class="wrap-counter">
                <div class="counter-box wrapper-content-loading" ng-if="vm.loadingNumbers && !vm.countTotalProducers">
                    <p>Carregando...</p>
                </div>
                <div class="counter-box wrapper-content-loading" ng-if="vm.updatingNumbers">
                    <p>Atualizando em {{vm.time}}...</p>
                </div>
                <div class="counter-box wrapper-content-error" ng-if="!vm.loadingNumbers && !vm.countTotalProducers">
                    <p>Erro ao carregar número de Produtoras</p>
                </div>
                <div class="counter-box" ng-if="!vm.loadingNumbers && vm.countTotalProducers">
                    <div class="symbol">
                        <i class="icon-building"></i>
                    </div>
                    <div class="value">
                        <h2 class="count" count-to="{{vm.countTotalProducers}}" value="{{vm.countTotalProducersFrom}}" duration="2"></h2>
                        <p>Produtoras</p>
                    </div>
                </div>
            </div>
                                                            
            <div class="wrap-counter">
                <div class="counter-box wrapper-content-loading" ng-if="vm.loadingNumbers && !vm.countTotalProjects">
                    <p>Carregando...</p>
                </div>
                <div class="counter-box wrapper-content-loading" ng-if="vm.updatingNumbers">
                    <p>Atualizando em {{vm.time}}...</p>
                </div>

                <div class="counter-box wrapper-content-error" ng-if="!vm.loadingNumbers && !vm.countTotalProjects">
                    <p>Erro ao carregar número de Projetos</p>
                </div>
                <div class="counter-box" ng-if="!vm.loadingNumbers && vm.countTotalProjects">
                    <div class="symbol">
                        <i class="icon-puzzle-piece"></i>
                    </div>
                    <div class="value">
                        <h2 class="count" count-to="{{vm.countTotalProjects}}" value="{{vm.countTotalProjectsFrom}}" duration="2"></h2>
                        <p>Projetos</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="charts-section">             
            <div class="chart-group--type1">                 
                <div class="item-chart">
                    <div class="wrapper-content-loading" ng-if="vm.loadingChartProjectChart">
                        <p>Carregando...</p>
                    </div>
                    <div class="wrapper-content-loading" ng-if="vm.updatingChartProjectChart">
                        <p>Atualizando em {{vm.time}}...</p>
                    </div>
                    <div class="wrapper-content-error" ng-if="!vm.loadingChartProjectChart && !vm.itensChartProject">
                        <p>Ocorreu um erro ao carregar o gráfico de 'Projetos'.</p>
                    </div>
                    

                    <div ng-if="!vm.loadingChartProjectChart && vm.itensChartProject">
                        <h2>Projetos:</h2>
                        <div class="info-and-chart">
                            <div class="info-div">
                                <label>LEGENDA:</label>
                                <p ng-repeat="el in vm.itensChartProject">{{el.number}} - {{el.label}} <span class="{{el.code}}"></span></p>
                            </div>
                            <div class="chart-div">
                                <div class="wrap-chart">
                                    <canvas id="pie" class="chart chart-pie"
                                            chart-data="vm.dataChartProject" chart-labels="vm.labelsChartProject" chart-options="vm.options" chart-colors="vm.colorsProject"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="item-chart">
                    <div class="wrapper-content-loading" ng-if="vm.loadingChartProjectSubmissions">
                        <p>Carregando...</p>
                    </div>
                    <div class="wrapper-content-loading" ng-if="vm.updatingChartProjectSubmissions">
                        <p>Atualizando em {{vm.time}}...</p>
                    </div>
                    <div class="wrapper-content-error" ng-if="!vm.loadingChartProjectSubmissions && !vm.itensChartProjectSubmissions">
                        <p>Ocorreu um erro ao carregar o gráfico de 'Envios de projetos para players'.</p>
                    </div>

                    <div ng-if="!vm.loadingChartProjectSubmissions && vm.itensChartProjectSubmissions">
                        <h2>Envios de projetos para players:</h2>
                        <div class="info-and-chart">
                            <div class="info-div">
                                <label>LEGENDA:</label>
                                <p ng-repeat="el in vm.itensChartProjectSubmissions">{{el.number}} - {{el.label}} <span class="{{el.code}}"></span></p>
                            </div>
                            <div class="chart-div">
                                <div class="wrap-chart">
                                    <canvas id="pie" class="chart chart-pie"
                                            chart-data="vm.dataChartProjectSubmissions" chart-labels="vm.labelsChartProjectSubmissions" chart-options="vm.options" chart-colors="vm.colorsProjectSentPlayers"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="chart-group--type2" ng-show="!vm.chartResponsive">      
                <div class="item-chart">
                    <div class="wrapper-content-loading" ng-if="vm.loadingChartPlayer">
                        <p>Carregando...</p>
                    </div>
                    <div class="wrapper-content-loading" ng-if="vm.updatingChartPlayer">
                        <p>Atualizando em {{vm.time}}...</p>
                    </div>
                    <div class="wrapper-content-error" ng-if="!vm.loadingChartPlayer && !vm.itensChartCountryPlayer">
                        <p>Ocorreu um erro ao carregar o gráfico de 'Players por país'.</p>
                    </div>
                    <div ng-if="!vm.loadingChartPlayer && vm.itensChartCountryPlayer">
                        <h2>Players por país</h2>
                        <div class="wrap-chart">
                            <canvas class="chart chart-horizontal-bar " chart-options="options" chart-data="vm.dataCountryPlayer"
                                    chart-labels="vm.labelsCountryPlayer" chart-colors="colors"></canvas>
                        </div>
                    </div>

                </div>

                <div class="item-chart">
                    <div class="wrapper-content-loading" ng-if="vm.loadingChartProducer">
                        <p>Carregando...</p>
                    </div>
                    <div class="wrapper-content-loading" ng-if="vm.updatingChartProducer">
                        <p>Atualizando em {{vm.time}}...</p>
                    </div>
                    <div class="wrapper-content-error" ng-if="!vm.loadingChartProducer && !vm.itensChartCountryProducer">
                        <p>Ocorreu um erro ao carregar o gráfico de 'Produtoras por país'.</p>
                    </div>
                    <div ng-if="!vm.loadingChartProducer && vm.itensChartCountryProducer">
                        <h2>Produtoras por país</h2>
                        <div class="wrap-chart">
                            <canvas class="chart chart-horizontal-bar " chart-options="options" chart-data="vm.dataCountryProducer"
                                    chart-labels="vm.labelsCountryProducer" chart-colors="colors"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="chart-group--type3" ng-show="vm.chartResponsive">
                <div class="item-chart">
                    <div class="wrapper-content-loading" ng-if="vm.loadingChartPlayer">
                        <p>Carregando...</p>
                    </div>
                    <div class="wrapper-content-loading" ng-if="vm.updatingChartPlayer">
                        <p>Atualizando em {{vm.time}}...</p>
                    </div>
                    <div class="wrapper-content-error" ng-if="!vm.loadingChartPlayer && !vm.itensChartCountryPlayer">
                        <p>Ocorreu um erro ao carregar o gráfico de 'Players por país'.</p>
                    </div>
                    <div ng-if="!vm.loadingChartPlayer && vm.itensChartCountryPlayer">
                        <div class="progress-panel">
                            <div class="task-progress">
                                <h2>País players</h2>
                            </div>
                        </div>
                        <table class="table table-hover personal-task">
                            <tbody>
                                <tr ng-repeat="el in vm.itensChartCountryPlayer">
                                    <td>{{$index + 1}}</td>
                                    <td>
                                        {{el.label}}
                                    </td>
                                    <td>
                                        <span class="badge bg-important">{{el.number}}</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="item-chart">
                    <div class="wrapper-content-loading" ng-if="vm.loadingChartProducer">
                        <p>Carregando...</p>
                    </div>
                    <div class="wrapper-content-loading" ng-if="vm.updatingChartProducer">
                        <p>Atualizando em {{vm.time}}...</p>
                    </div>
                    <div class="wrapper-content-error" ng-if="!vm.loadingChartProducer && !vm.itensChartCountryProducer">
                        <p>Ocorreu um erro ao carregar o gráfico de 'Produtoras por país'.</p>
                    </div>
                    <div ng-if="!vm.loadingChartProducer && vm.itensChartCountryProducer">
                        <div class="progress-panel">
                            <div class="task-progress">
                                <h2>País produtoras</h2>
                            </div>
                        </div>
                        <table class="table table-hover personal-task">
                            <tbody>
                                <tr ng-repeat="el in vm.itensChartCountryProducer">
                                    <td>{{$index}}</td>
                                    <td>
                                        {{el.label}}
                                    </td>
                                    <td>
                                        <span class="badge bg-important">{{el.number}}</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

    </div>


</div>
