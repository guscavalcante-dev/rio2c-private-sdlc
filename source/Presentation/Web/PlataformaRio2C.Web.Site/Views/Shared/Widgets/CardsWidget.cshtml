@using PlataformaRio2C.Domain.Dtos
@using PlataformaRio2c.Infra.Data.FileRepository.Helpers
@using PlataformaRio2C.Domain.Statics
@{
    var userAccessControlDto = ViewBag.UserAccessControlDto as UserAccessControlDto;
}
<div class="kt-portlet">
    <div class="kt-portlet__head">
        <div class="kt-portlet__head-label">
            <h3 class="kt-portlet__head-title">
                @Labels.CardsEN
            </h3>
        </div>
    </div>
    <div class="kt-portlet__body">
        @if (userAccessControlDto?.HasCardsToShow() == true)
        {
            <div class="kt-notification">
                @foreach (var collaboratorType in userAccessControlDto.EditionCollaboratorTypes)
                {
                    string imageUrl = ImageHelper.GetImageUrl(
                        FileRepositoryPathType.UserImage, 
                        userAccessControlDto.Collaborator.Uid, 
                        userAccessControlDto.Collaborator.ImageUploadDate, 
                        true, 
                        $"_collaboratorType{collaboratorType.Id}_1080x1080");
                    <a class="kt-notification__item" href="@imageUrl" target="_blank">
                        <div class="kt-notification__item-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">
                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <rect x="0" y="0" width="24" height="24" />
                                    <path d="M3,10.0500091 L3,8 C3,7.44771525 3.44771525,7 4,7 L9,7 L9,9 C9,9.55228475 9.44771525,10 10,10 C10.5522847,10 11,9.55228475 11,9 L11,7 L21,7 C21.5522847,7 22,7.44771525 22,8 L22,10.0500091 C20.8588798,10.2816442 20,11.290521 20,12.5 C20,13.709479 20.8588798,14.7183558 22,14.9499909 L22,17 C22,17.5522847 21.5522847,18 21,18 L11,18 L11,16 C11,15.4477153 10.5522847,15 10,15 C9.44771525,15 9,15.4477153 9,16 L9,18 L4,18 C3.44771525,18 3,17.5522847 3,17 L3,14.9499909 C4.14112016,14.7183558 5,13.709479 5,12.5 C5,11.290521 4.14112016,10.2816442 3,10.0500091 Z M10,11 C9.44771525,11 9,11.4477153 9,12 L9,13 C9,13.5522847 9.44771525,14 10,14 C10.5522847,14 11,13.5522847 11,13 L11,12 C11,11.4477153 10.5522847,11 10,11 Z" fill="#000000" opacity="0.3" transform="translate(12.500000, 12.500000) rotate(-45.000000) translate(-12.500000, -12.500000) " />
                                </g>
                            </svg>
                        </div>
                        <div class="kt-notification__item-details">
                            <div class="kt-notification__item-title">
                                @collaboratorType.Name
                            </div>
                        </div>
                    </a>
                }
            </div>
        }
        else
        {
            <span class="text-center">@Messages.NoCardsAvailable</span>
        }
    </div>
</div>